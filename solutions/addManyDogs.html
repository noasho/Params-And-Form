<!DOCTYPE html>
<html>

<head>
  <title>test page</title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<!--the form needs to be sent to "/add-many-dogs".
   the info sent in this format: 
  {
    dogs: [
    {name: "dog name", breed: "dog breed"},
    ...
  ]
  }
-->

<body>
  <h1>ADD MANY DOGS</h1>

  <form action="/add-many-dogs" method="GET">
    <div id="dumdum">
      <input type="text" placeholder="dogs" name="dogs[0][name]" />
      <select id="breeds" name="dogs[0][breed]">
        <option value="German Shepherd">German Shepherd</option>
        <option value="Poodle">Poodle</option>
        <option value="Rottweiler">Rottweiler</option>
        <option value="Bulldog">Bulldog</option>
      </select>
    </div>
    <input type="submit" value="submitation" />
  </form>
  <button id="addorbutton" onclick="add()">add new dog</button>
</body>
<script>
  let dogsToAdd = 1;
  function add(e) {

    const nameInput = document.createElement('input');
    nameInput.placeholder = 'dogs name';

    //change name to fit format:
    nameInput.name = `dogs[${dogsToAdd}][name]`;

    const breeds = ["German Shepherd", "Poodle", "Rottweiler", "Bulldog"];

    const selectBreedList = document.createElement("select");
    selectBreedList.id = `${dogsToAdd}-breeds`;

    for (let i = 0; i < breeds.length; i++) {
      const option = document.createElement("option");
      option.value = breeds[i];
      option.text = breeds[i];
      selectBreedList.appendChild(option);
    }

    //change name to fit format:
    selectBreedList.name = `dogs[${dogsToAdd}][breed]`;


    const newDog = document.createElement('div');
    newDog.appendChild(nameInput);
    newDog.appendChild(selectBreedList);


    const inputContainer = document.getElementById("dumdum");
    inputContainer.appendChild(newDog);

    dogsToAdd++;
  }

  const button = document.getElementById("addorbutton");
  button.onclick = add;

</script>

</html>